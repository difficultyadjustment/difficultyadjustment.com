<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‚Çø Difficulty Adjustment ‚Äî Bitcoin Intelligence</title>
  <meta name="description" content="Real-time Bitcoin intelligence ‚Äî price charts, technical analysis, mining stats, difficulty adjustments, and curated news. difficultyadjustment.com">
  <meta property="og:title" content="Difficulty Adjustment ‚Äî Bitcoin Intelligence">
  <meta property="og:description" content="Real-time Bitcoin intelligence ‚Äî charts, TA, mining, difficulty, Fear & Greed. There is no second best.">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#f7931a">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚Çø</text></svg>">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <span class="logo">‚Çø</span>
        <h1>Difficulty<span class="accent">Adjustment</span></h1>
      </div>
      <nav class="site-nav">
        <a href="/" class="nav-link">Dashboard</a>
        <a href="/history" class="nav-link">History</a>
        <a href="/learn" class="nav-link">Learn</a>
        <div class="nav-dropdown">
          <button class="nav-link nav-dropdown-btn">Tools ‚ñæ</button>
          <div class="nav-dropdown-menu">
            <div class="nav-dropdown-menu-inner">
              <a href="/calculator">‚õèÔ∏è Mining Calculator</a>
              <a href="/dca">üìä DCA Calculator</a>
              <a href="/hodl">üíé HODL Calculator</a>
              <a href="/converter">üîÑ Sats Converter</a>
              <a href="/attack">üõ°Ô∏è 51% Attack Cost</a>
              <a href="/inflation">üìâ Bitcoin vs Inflation</a>
            </div>
          </div>
        </div>
      </nav>
      <div class="header-right">
        <div class="live-dot"></div>
        <span class="last-update" id="lastUpdate">Loading...</span>
        <button class="refresh-btn" onclick="refreshAll()">‚Üª</button>
        <select class="currency-select" id="currencySelect" onchange="changeCurrency(this.value)">
          <option value="usd">USD $</option>
          <option value="cad">CAD $</option>
          <option value="eur">EUR ‚Ç¨</option>
          <option value="gbp">GBP ¬£</option>
          <option value="aud">AUD $</option>
          <option value="jpy">JPY ¬•</option>
          <option value="chf">CHF</option>
          <option value="cny">CNY ¬•</option>
          <option value="inr">INR ‚Çπ</option>
          <option value="brl">BRL R$</option>
          <option value="mxn">MXN $</option>
          <option value="sek">SEK kr</option>
          <option value="nok">NOK kr</option>
          <option value="nzd">NZD $</option>
          <option value="sgd">SGD $</option>
          <option value="hkd">HKD $</option>
          <option value="krw">KRW ‚Ç©</option>
          <option value="zar">ZAR R</option>
          <option value="sats">Sats ‚Çø</option>
        </select>
        <button class="settings-btn" id="settingsBtn" onclick="toggleSettings()">‚öô</button>
      </div>
    </header>

    <!-- Settings Dropdown -->
    <div class="settings-dropdown" id="settingsDropdown">
      <div class="settings-title">Show / Hide Sections</div>
      <label class="settings-toggle"><input type="checkbox" data-section="fng" checked onchange="toggleSection(this)"> Fear & Greed</label>
      <label class="settings-toggle"><input type="checkbox" data-section="stats" checked onchange="toggleSection(this)"> Global Stats</label>
      <label class="settings-toggle"><input type="checkbox" data-section="btc-hero" checked onchange="toggleSection(this)"> BTC Price & Chart</label>
      <label class="settings-toggle"><input type="checkbox" data-section="ta" checked onchange="toggleSection(this)"> Technical Analysis</label>
      <label class="settings-toggle"><input type="checkbox" data-section="mining" checked onchange="toggleSection(this)"> Mining & Difficulty</label>
      <label class="settings-toggle"><input type="checkbox" data-section="macro" checked onchange="toggleSection(this)"> Macro Environment</label>
      <label class="settings-toggle"><input type="checkbox" data-section="btc-gold" checked onchange="toggleSection(this)"> Bitcoin vs Gold</label>
      <label class="settings-toggle"><input type="checkbox" data-section="cycle" checked onchange="toggleSection(this)"> Halving Cycle</label>
      <label class="settings-toggle"><input type="checkbox" data-section="lightning" checked onchange="toggleSection(this)"> Lightning Network</label>
      <label class="settings-toggle"><input type="checkbox" data-section="news" checked onchange="toggleSection(this)"> Bitcoin News & X</label>
      <label class="settings-toggle"><input type="checkbox" data-section="vitals" checked onchange="toggleSection(this)"> Bitcoin Vitals</label>
      <label class="settings-toggle"><input type="checkbox" data-section="shitcoins" checked onchange="toggleSection(this)"> Shitcoin Index</label>
      <div class="settings-reset" onclick="resetSections()">‚Üª Show All</div>
    </div>

    <!-- Fear & Greed Banner -->
    <div class="fng-banner section-panel" data-section="fng" id="fngBanner">
      <div class="fng-gauge">
        <div class="fng-circle" id="fngCircle">
          <span class="fng-value" id="fngValue">--</span>
        </div>
      </div>
      <div class="fng-info">
        <span class="fng-label">Fear & Greed Index</span>
        <span class="fng-class" id="fngClass">Loading...</span>
        <span class="fng-context" id="fngContext"></span>
      </div>
      <div class="fng-chart-container">
        <canvas id="fngChart" height="60"></canvas>
      </div>
    </div>

    <!-- Global Stats Bar -->
    <div class="stats-bar section-panel" data-section="stats" id="globalStats">
      <div class="stat highlight-stat">
        <span class="stat-label">‚Çø Dominance</span>
        <span class="stat-value btc-orange" id="btcDom">--</span>
      </div>
      <div class="stat">
        <span class="stat-label">‚Çø Market Cap</span>
        <span class="stat-value" id="btcMcap">--</span>
      </div>
      <div class="stat">
        <span class="stat-label">24h Volume</span>
        <span class="stat-value" id="totalVol">--</span>
      </div>
      <div class="stat highlight-stat">
        <span class="stat-label" id="satsLabel">Sats / Dollar</span>
        <span class="stat-value btc-orange" id="satsPerDollar">--</span>
      </div>
      <div class="stat">
        <span class="stat-label">24h Mcap Change</span>
        <span class="stat-value" id="mcap24hDelta">--</span>
      </div>
    </div>

    <!-- Mining & Difficulty Section ‚Äî Hero (namesake of the site) -->
    <div class="mining-section section-panel" data-section="mining">
      <div class="card mining-card diff-hero-card">
        <div class="card-header">
          <h3>‚õèÔ∏è Difficulty Adjustment</h3>
          <span class="badge" id="diffBadge">--</span>
        </div>
        <div class="diff-content" id="diffContent">
          <div class="ta-loading">Loading mining data...</div>
        </div>
      </div>
      <div class="card mining-card">
        <div class="card-header">
          <h3>üî• Hashrate</h3>
        </div>
        <div class="chart-tabs mini-tabs">
          <button class="tab mini active" onclick="loadMining('3m', this)">3M</button>
          <button class="tab mini" onclick="loadMining('6m', this)">6M</button>
          <button class="tab mini" onclick="loadMining('1y', this)">1Y</button>
          <button class="tab mini" onclick="loadMining('2y', this)">2Y</button>
          <button class="tab mini" onclick="loadMining('3y', this)">3Y</button>
        </div>
        <div class="hashrate-chart-wrapper">
          <canvas id="hashrateChart" height="180"></canvas>
        </div>
        <div class="hashrate-stats" id="hashrateStats"></div>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="main-grid">
      <!-- BTC Hero Card -->
      <div class="card btc-hero section-panel" data-section="btc-hero">
        <div class="card-header">
          <div class="coin-identity">
            <img id="btcLogo" class="coin-logo" alt="BTC">
            <div>
              <h2>Bitcoin</h2>
              <span class="ticker">BTC ‚Äî The only one that matters</span>
            </div>
          </div>
          <div class="price-block">
            <span class="price" id="btcPrice">--</span>
            <span class="change" id="btcChange">--</span>
          </div>
        </div>
        <div class="chart-tabs">
          <button class="tab active" onclick="loadChart('bitcoin', 1, this)">24H</button>
          <button class="tab" onclick="loadChart('bitcoin', 7, this)">7D</button>
          <button class="tab" onclick="loadChart('bitcoin', 30, this)">30D</button>
          <button class="tab" onclick="loadChart('bitcoin', 90, this)">90D</button>
          <button class="tab" onclick="loadChart('bitcoin', 365, this)">1Y</button>
          <button class="tab" onclick="loadChartLong('2y', this)">2Y</button>
          <button class="tab" onclick="loadChartLong('5y', this)">5Y</button>
          <button class="tab" onclick="loadChartLong('max', this)">ALL</button>
        </div>
        <div class="chart-wrapper">
          <canvas id="btcChart"></canvas>
        </div>
        <div class="btc-stats" id="btcStats"></div>
      </div>

      <!-- Technical Analysis Card -->
      <div class="card ta-card section-panel" data-section="ta">
        <div class="card-header">
          <h3>üìà Technical Analysis</h3>
          <span class="badge" id="taSignal">--</span>
        </div>
        <div class="ta-content" id="taContent">
          <div class="ta-loading">Running TA...</div>
        </div>
      </div>
    </div>

    <!-- Macro Section -->
    <div class="macro-section section-panel" data-section="macro">
      <div class="card macro-card">
        <div class="card-header">
          <h3>üåç Macro Environment</h3>
          <span class="macro-context">How the world looks for Bitcoin</span>
        </div>
        <div class="chart-tabs mini-tabs" style="margin-bottom:16px">
          <button class="tab mini" onclick="loadMacro('1mo', this)">1M</button>
          <button class="tab mini" onclick="loadMacro('3mo', this)">3M</button>
          <button class="tab mini active" onclick="loadMacro('6mo', this)">6M</button>
          <button class="tab mini" onclick="loadMacro('1y', this)">1Y</button>
          <button class="tab mini" onclick="loadMacro('2y', this)">2Y</button>
          <button class="tab mini" onclick="loadMacro('5y', this)">5Y</button>
        </div>
        <div class="macro-grid" id="macroGrid">
          <div class="ta-loading">Loading macro data...</div>
        </div>
      </div>
    </div>

    <!-- Bitcoin Metrics Row -->
    <div class="metrics-section">
      <!-- BTC/Gold Ratio -->
      <div class="card section-panel" data-section="btc-gold">
        <div class="card-header">
          <h3>ü•á Bitcoin vs Gold</h3>
          <span class="badge" id="btcGoldBadge">--</span>
        </div>
        <div class="btc-gold-value" id="btcGoldValue">-- oz</div>
        <div class="btc-gold-context">1 BTC buys this many ounces of gold</div>
        <div class="chart-tabs mini-tabs">
          <button class="tab mini" onclick="loadGoldChart('1mo', this)">1M</button>
          <button class="tab mini" onclick="loadGoldChart('3mo', this)">3M</button>
          <button class="tab mini active" onclick="loadGoldChart('6mo', this)">6M</button>
          <button class="tab mini" onclick="loadGoldChart('1y', this)">1Y</button>
          <button class="tab mini" onclick="loadGoldChart('2y', this)">2Y</button>
          <button class="tab mini" onclick="loadGoldChart('5y', this)">5Y</button>
        </div>
        <div class="metric-chart-wrapper"><canvas id="btcGoldChart" height="150"></canvas></div>
      </div>

      <!-- Halving Cycle -->
      <div class="card section-panel" data-section="cycle">
        <div class="card-header">
          <h3>üîÑ Halving Cycle</h3>
        </div>
        <div class="cycle-content" id="cycleContent">
          <div class="ta-loading">Loading...</div>
        </div>
      </div>

      <!-- Lightning Network -->
      <div class="card section-panel" data-section="lightning">
        <div class="card-header">
          <h3>‚ö° Lightning Network</h3>
        </div>
        <div class="chart-tabs mini-tabs">
          <button class="tab mini active" onclick="loadLightning('3m', this)">3M</button>
          <button class="tab mini" onclick="loadLightning('6m', this)">6M</button>
          <button class="tab mini" onclick="loadLightning('1y', this)">1Y</button>
          <button class="tab mini" onclick="loadLightning('2y', this)">2Y</button>
          <button class="tab mini" onclick="loadLightning('3y', this)">3Y</button>
        </div>
        <div class="lightning-content" id="lightningContent">
          <div class="ta-loading">Loading...</div>
        </div>
        <div class="metric-chart-wrapper"><canvas id="lnCapChart" height="120"></canvas></div>
      </div>
    </div>

    <!-- News + Vitals Row (below chart) -->
    <div class="news-vitals-grid">
      <!-- News Feed -->
      <div class="card news-card section-panel" data-section="news">
        <div class="card-header">
          <h3>üì∞ Bitcoin News</h3>
          <span class="news-count" id="newsCount"></span>
        </div>
        <div class="news-feed" id="newsFeed">
          <div class="ta-loading">Loading news...</div>
        </div>
        <!-- X Posts Section -->
        <div class="x-posts-section" id="xPostsSection" style="display:none">
          <div class="x-posts-header">
            <span class="x-logo">ùïè</span>
            <span>Bitcoin on X</span>
          </div>
          <div class="x-posts-feed" id="xPostsFeed"></div>
        </div>
      </div>

      <!-- Right column: Vitals + Shitcoin Index -->
      <div class="news-vitals-right">
        <!-- Bitcoin Vitals -->
        <div class="card vitals-card section-panel" data-section="vitals">
          <div class="card-header">
            <h3>‚õèÔ∏è Bitcoin Vitals</h3>
          </div>
          <div class="vitals-content" id="vitalsContent">
            <div class="ta-loading">Loading...</div>
          </div>
        </div>

        <!-- Shitcoin Index -->
        <div class="card price-table-card section-panel" data-section="shitcoins">
          <div class="card-header">
            <h3>üìâ Shitcoin Index</h3>
            <span class="shitcoin-disclaimer">Shown for context. Not endorsements.</span>
          </div>
          <div class="table-wrapper">
            <table class="price-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Token</th>
                  <th>Price</th>
                  <th>1h</th>
                  <th>24h</th>
                  <th>7d</th>
                  <th>vs BTC (7d)</th>
                  <th>Market Cap</th>
                  <th class="sparkline-col">7D Chart</th>
                </tr>
              </thead>
              <tbody id="priceTableBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <span>‚Çø difficultyadjustment.com ‚Ä¢ There is no second best ‚Ä¢ Data: CoinGecko, mempool.space ‚Ä¢ Fear & Greed: Alternative.me</span>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
